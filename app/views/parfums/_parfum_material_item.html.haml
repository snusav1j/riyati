.group-for-block{ data: { parfum_material_id: pm.id } }
  .parfum-material-item.block-item{ data: { parfum_material_id: pm.id } }
    .parfum-material-info
      %div= pm.material_name
      %div.text-muted
        
        - if pm.liquid_material?
          - material_ml_style = pm.liquid_material_mls_left > 0 ? '' : 'text-danger'
          
          %span{ class: material_ml_style }= "#{pm.liquid_material_mls_left} мл."
          %span.text-warning= "(- #{pm.get_total_spent_liquid_material_ml} мл.)" if pm.get_total_spent_liquid_material_ml > 0
        - else
          - material_count_style = pm.not_liquid_material_count_left > 0 ? '' : 'text-danger'

          %span{ class: material_count_style }= "#{pm.not_liquid_material_count_left} шт."
          %span.text-warning= "(- #{pm.get_total_spent_not_liquid_material_count} шт.)" if pm.get_total_spent_not_liquid_material_count > 0

    .block-controls
      -# .parfum-material-expense
        
      .show-parfum-material-btn.show-block-info.primary-btn{ data: { parfum_material_id: pm.id } }
        = fa_icon :eye
      .delete-parfum-material-btn.delete-btn{ data: { parfum_material_id: pm.id } }
        = fa_icon :trash
  .block-item-info
    .block-item-info-header Используется:
    .block-item-info-body
      %div
        - pm.materials_used_in.each do |pmu|
          - if pm.liquid_material?
            .text-muted.text-small= "В рецепте ##{pmu.recipe.id} (#{pmu.recipe.get_spent_material(pm.id)} мл.)"
          - else
            .text-muted.text-small= "В рецепте ##{pmu.recipe.id} (#{pmu.recipe.get_spent_material(pm.id)} шт.)"
      %div
        .text-muted= "Затрачено на расходник ~ #{pm.expense} ₽" if pm.expense.present?